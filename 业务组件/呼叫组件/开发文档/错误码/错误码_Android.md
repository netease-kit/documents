## 异常说明

### 1. 组件内部错误码

| 错误码 | 说明                                                         |
| ------ | ------------------------------------------------------------ |
| 2000   | 被叫收到通话邀请但邀请信息没有携带必要的 customInfo 信息     |
| 2001   | 其他端已经接受                                               |
| 2002   | 其他端拒绝                                                   |
| 2011   | RTC 断开连接                                                 |
| 2021   | 请求加入音视频房间的 token 失败                              |
| 2031   | rtcUid 和 imAccId 映射错误                                   |
| 2041   | 初始化音视频 sdk 失败                                        |
| 130001 | 加入音视频房间时发现当前用户 uid 无效                        |
| 130002 | 当前配置音视频 sdk 的 AppKey 无效或为空                      |
| 130003 | 创建 IM 信令通道异常                                         |
| 130004 | 加入 IM 信令通道异常                                         |
| 130005 | 发送 IM invite 指令异常                                      |
| 130006 | 取消操作时，无有效邀请参数，且当前的 channel id 为空         |
| 130008 | 点对点(P2P)通话中调用群组(废弃)邀请通话方法                        |
| 130009 | 挂断时，传入channel id 和当前正在处理的通话 channel id不匹配，若一定挂断可不传 channel id，默认挂断当前通话 |
| 130010 | 离开时，当前的 channel id 为空                               |
| -1     | 使用错误                                                     |

#### 2. 状态机相关错误码

| **接口/状态**      | **idle**                    | **calling**                 | **called**                  | **inCall**                  |
| ------------------ | --------------------------- | --------------------------- | --------------------------- | --------------------------- |
| **call** | 发起呼叫                    | 20002: 已在呼叫中           | 20003: 正在被呼叫           | 20004: 已在通话中           |
| **hangup**         | 20005: 未在通话中           | 取消                        | 拒绝                        | 挂断                        |
| **leave**          | 20009: 未在通话中           | 20010: 未在通话中           | 20011: 未在通话中           | 离开会议                    |
| **cancel**         | 20013: 未发起通话           | 取消                        | 20015: 未发起通话           | 20016: 不能取消             |
| **accept**         | 20017: 不存在需要接通的呼叫 | 20018: 不存在需要接通的呼叫 | 接受通话                    | 20020: 不存在需要接通的呼叫 |
| **reject**         | 20021: 不存在需要拒绝的呼叫 | 20022: 不存在需要拒绝的呼叫 | 拒绝通话                    | 20024: 不存在需要拒绝的呼叫 |
| **switchCallType** | 20025: 只能在呼叫中进行切换 | 20026: 只能在呼叫中进行切换 | 20027: 只能在呼叫中进行切换 | 切换                        |

### 3. 其他错误

组件会直接抛出 IM sdk / NERtc sdk 的错误码。详情参考 [IM 通用错误码](http://dev.yunxin.163.com/docs/product/IM即时通讯/状态码)、[IM 信令错误码](http://dev.yunxin.163.com/docs/product/信令/SDK开发集成/Android开发集成/错误码)、[NERtc 错误码](https://dev.yunxin.163.com/docs/interface/NERTC_SDK/Latest/Android/html/interfacecom_1_1netease_1_1lava_1_1nertc_1_1sdk_1_1_n_e_rtc_constants_1_1_error_code.html)。

#### 典型错误码说明

| 错误码 | 说明                                                         |
| ------ | ------------------------------------------------------------ |
| -500   | 在 onError 回调中收到此错误码说明，当前用户仍在音视频房间且尝试加入另外的音视频房间。当执行挂断操作时，会离开音视频房间，若此时发起新的通话并立即接通则可能触发。根本原因为，离开音视频房间不是瞬时动作需要时间，若在离开的过程中加入，此时还没真正的离开房间则会打中此错误。 |
